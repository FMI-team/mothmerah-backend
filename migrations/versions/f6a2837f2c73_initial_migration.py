"""Initial migration

Revision ID: f6a2837f2c73
Revises: 
Create Date: 2025-10-22 22:37:50.896759

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = 'f6a2837f2c73'
down_revision: Union[str, None] = None
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('account_statuses',
    sa.Column('account_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('is_terminal', sa.Boolean(), server_default=sa.text('(false)'), nullable=False, comment='هل هذه الحالة نهائية لا يمكن الخروج منها؟ (مثل محذوف)'),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('account_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('activity_types',
    sa.Column('activity_type_id', sa.Integer(), nullable=False),
    sa.Column('activity_name_key', sa.String(length=100), nullable=False),
    sa.Column('description_key', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('activity_type_id'),
    sa.UniqueConstraint('activity_name_key')
    )
    op.create_table('address_types',
    sa.Column('address_type_id', sa.Integer(), nullable=False),
    sa.Column('address_type_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['address_type_id'], ['address_types.address_type_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('address_type_id'),
    sa.UniqueConstraint('address_type_name_key')
    )
    op.create_table('attributes',
    sa.Column('attribute_id', sa.Integer(), nullable=False),
    sa.Column('attribute_name_key', sa.String(length=50), nullable=False),
    sa.Column('attribute_description_key', sa.String(length=255), nullable=True),
    sa.Column('is_filterable', sa.Boolean(), server_default=sa.text('(false)'), nullable=False, comment='هل يمكن استخدامها كفلتر في البحث؟'),
    sa.Column('is_variant_defining', sa.Boolean(), server_default=sa.text('(false)'), nullable=False, comment='هل تساهم في تعريف صنف مختلف؟'),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('attribute_id'),
    sa.UniqueConstraint('attribute_name_key')
    )
    op.create_table('auction_settlement_statuses',
    sa.Column('settlement_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False, comment='مفتاح فريد لاسم الحالة للترجمة.'),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('settlement_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('auction_settlements',
    sa.Column('settlement_id', sa.BigInteger(), nullable=False),
    sa.Column('auction_id', sa.UUID(), nullable=False),
    sa.Column('winning_bid_id', sa.BigInteger(), nullable=False),
    sa.Column('winner_user_id', sa.UUID(), nullable=False),
    sa.Column('seller_user_id', sa.UUID(), nullable=False),
    sa.Column('final_winning_price_per_unit', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('quantity_won', sa.Numeric(), nullable=False),
    sa.Column('total_settlement_amount', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('net_amount_to_seller', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('settlement_status_id', sa.Integer(), nullable=False),
    sa.Column('settlement_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('platform_commission_id', sa.BigInteger(), nullable=True),
    sa.Column('payment_transaction_id', sa.BigInteger(), nullable=True),
    sa.Column('payout_transaction_id', sa.BigInteger(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['auction_id'], ['auctions.auction_id'], onupdate='CASCADE', ondelete='RESTRICT'),
    sa.ForeignKeyConstraint(['payment_transaction_id'], ['wallet_transactions.wallet_transaction_id'], ),
    sa.ForeignKeyConstraint(['payout_transaction_id'], ['wallet_transactions.wallet_transaction_id'], ),
    sa.ForeignKeyConstraint(['platform_commission_id'], ['platform_commissions.commission_id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['seller_user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='RESTRICT'),
    sa.ForeignKeyConstraint(['settlement_status_id'], ['auction_settlement_statuses.settlement_status_id'], ),
    sa.ForeignKeyConstraint(['winner_user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='RESTRICT'),
    sa.ForeignKeyConstraint(['winning_bid_id'], ['bids.bid_id'], onupdate='CASCADE', ondelete='RESTRICT'),
    sa.PrimaryKeyConstraint('settlement_id'),
    sa.UniqueConstraint('winning_bid_id')
    )
    op.create_table('auction_statuses',
    sa.Column('auction_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False, comment='مفتاح فريد لاسم الحالة للترجمة.'),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('auction_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('auction_types',
    sa.Column('auction_type_id', sa.Integer(), nullable=False),
    sa.Column('type_name_key', sa.String(length=50), nullable=False, comment='مفتاح فريد لاسم النوع للترجمة.'),
    sa.Column('description_key', sa.String(length=255), nullable=True, comment='مفتاح لوصف النوع للترجمة.'),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('auction_type_id'),
    sa.UniqueConstraint('type_name_key')
    )
    op.create_table('countries',
    sa.Column('country_code', sa.String(length=2), nullable=False),
    sa.Column('country_name_key', sa.String(length=100), nullable=False),
    sa.Column('phone_country_code', sa.String(length=5), nullable=True),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('country_code'),
    sa.UniqueConstraint('country_name_key')
    )
    op.create_table('currencies',
    sa.Column('currency_code', sa.String(length=3), nullable=False),
    sa.Column('currency_name_key', sa.String(length=50), nullable=False),
    sa.Column('symbol', sa.String(length=5), nullable=False),
    sa.Column('decimal_places', sa.SmallInteger(), server_default=sa.text('2'), nullable=False),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('currency_code'),
    sa.UniqueConstraint('currency_name_key')
    )
    op.create_table('deferred_payment_agreement_statuses',
    sa.Column('deferred_payment_agreement_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('deferred_payment_agreement_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('dim_dates',
    sa.Column('date_id', sa.Date(), nullable=False),
    sa.Column('day_number_in_week', sa.SmallInteger(), nullable=False),
    sa.Column('day_name_key', sa.String(length=20), nullable=False),
    sa.Column('day_number_in_month', sa.SmallInteger(), nullable=False),
    sa.Column('month_number_in_year', sa.SmallInteger(), nullable=False),
    sa.Column('month_name_key', sa.String(length=20), nullable=False),
    sa.Column('calendar_quarter', sa.SmallInteger(), nullable=False),
    sa.Column('calendar_year', sa.SmallInteger(), nullable=False),
    sa.Column('is_weekend_ksa', sa.Boolean(), nullable=False),
    sa.Column('is_official_holiday_ksa', sa.Boolean(), nullable=False),
    sa.Column('hijri_date', sa.String(length=20), nullable=True),
    sa.PrimaryKeyConstraint('date_id')
    )
    op.create_table('entity_types_for_reviews_or_images',
    sa.Column('entity_type_code', sa.String(length=50), nullable=False),
    sa.Column('entity_type_name_key', sa.String(length=100), nullable=False),
    sa.Column('description_key', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('entity_type_code'),
    sa.UniqueConstraint('entity_type_name_key')
    )
    op.create_table('expected_crop_statuses',
    sa.Column('status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('gg_claim_statuses',
    sa.Column('gg_claim_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('gg_claim_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('gg_resolution_types',
    sa.Column('gg_resolution_type_id', sa.Integer(), nullable=False),
    sa.Column('resolution_type_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('gg_resolution_type_id'),
    sa.UniqueConstraint('resolution_type_name_key')
    )
    op.create_table('installment_statuses',
    sa.Column('installment_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('installment_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('inventory_item_statuses',
    sa.Column('inventory_item_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('inventory_item_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('inventory_transaction_types',
    sa.Column('transaction_type_id', sa.Integer(), nullable=False),
    sa.Column('transaction_type_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('transaction_type_id'),
    sa.UniqueConstraint('transaction_type_name_key')
    )
    op.create_table('languages',
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('language_name_native', sa.String(length=50), nullable=False, comment='اسم اللغة بلغتها الأصلية'),
    sa.Column('language_name_en', sa.String(length=50), nullable=False, comment='اسم اللغة بالإنجليزية كمرجع'),
    sa.Column('text_direction', sa.String(length=3), nullable=False, comment="'LTR' أو 'RTL'"),
    sa.Column('is_active_for_interface', sa.Boolean(), server_default=sa.text('(false)'), nullable=False),
    sa.Column('sort_order', sa.SmallInteger(), nullable=True, comment='لترتيب عرض اللغات في القوائم'),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('language_code')
    )
    op.create_table('license_types',
    sa.Column('license_type_id', sa.Integer(), nullable=False),
    sa.Column('license_type_name_key', sa.String(length=50), nullable=False),
    sa.Column('is_mandatory_for_role', sa.Boolean(), server_default=sa.text('(false)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('license_type_id'),
    sa.UniqueConstraint('license_type_name_key')
    )
    op.create_table('license_verification_statuses',
    sa.Column('license_verification_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('description_key', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('license_verification_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('notification_channels',
    sa.Column('channel_id', sa.Integer(), nullable=False),
    sa.Column('channel_name_key', sa.String(length=50), nullable=False),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('channel_id'),
    sa.UniqueConstraint('channel_name_key')
    )
    op.create_table('notification_delivery_statuses',
    sa.Column('delivery_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('delivery_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('notification_types',
    sa.Column('notification_type_id', sa.Integer(), nullable=False),
    sa.Column('type_name_key', sa.String(length=100), nullable=False),
    sa.Column('description_key', sa.String(length=255), nullable=True),
    sa.Column('default_enabled', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('can_user_disable', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('notification_type_id'),
    sa.UniqueConstraint('type_name_key')
    )
    op.create_table('order_item_statuses',
    sa.Column('item_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('item_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('order_statuses',
    sa.Column('order_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('status_description_key', sa.String(length=255), nullable=True),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('order_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('payment_gateways',
    sa.Column('gateway_id', sa.Integer(), nullable=False),
    sa.Column('gateway_name_key', sa.String(length=50), nullable=False),
    sa.Column('gateway_display_name_key', sa.String(length=100), nullable=True),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('configuration_details', sa.JSON(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('gateway_id'),
    sa.UniqueConstraint('gateway_name_key')
    )
    op.create_table('payment_records',
    sa.Column('payment_record_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('wallet_transaction_id', sa.BigInteger(), nullable=True),
    sa.Column('order_id', sa.UUID(), nullable=True),
    sa.Column('gateway_id', sa.Integer(), nullable=False),
    sa.Column('gateway_transaction_reference', sa.String(length=255), nullable=False),
    sa.Column('payment_amount', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('currency_code', sa.String(length=3), nullable=False),
    sa.Column('payment_status_from_gateway', sa.String(length=50), nullable=False),
    sa.Column('payment_method_used', sa.String(length=50), nullable=True),
    sa.Column('payment_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('gateway_response_payload', sa.JSON(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['currency_code'], ['currencies.currency_code'], ),
    sa.ForeignKeyConstraint(['gateway_id'], ['payment_gateways.gateway_id'], ),
    sa.ForeignKeyConstraint(['order_id'], ['orders.order_id'], ),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['wallet_transaction_id'], ['wallet_transactions.wallet_transaction_id'], ),
    sa.PrimaryKeyConstraint('payment_record_id')
    )
    op.create_index(op.f('ix_payment_records_gateway_transaction_reference'), 'payment_records', ['gateway_transaction_reference'], unique=False)
    op.create_table('payment_statuses',
    sa.Column('payment_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('payment_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('permissions',
    sa.Column('permission_id', sa.Integer(), nullable=False),
    sa.Column('permission_name_key', sa.String(length=100), nullable=False),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('module_group', sa.String(length=50), nullable=True, comment='الوحدة التي تنتمي إليها الصلاحية'),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('permission_id'),
    sa.UniqueConstraint('permission_name_key')
    )
    op.create_table('platform_commissions',
    sa.Column('commission_id', sa.BigInteger(), nullable=False),
    sa.Column('transaction_entity_id', sa.String(), nullable=False),
    sa.Column('transaction_entity_type', sa.String(length=50), nullable=False),
    sa.Column('seller_user_id', sa.UUID(), nullable=False),
    sa.Column('commission_basis_amount', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('commission_rate_applied', sa.Numeric(precision=5, scale=4), nullable=False),
    sa.Column('commission_amount_calculated', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('currency_code', sa.String(length=3), nullable=False),
    sa.Column('calculation_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('commission_status', sa.String(length=50), server_default=sa.text("'CALCULATED'"), nullable=False),
    sa.Column('related_payment_record_id', sa.BigInteger(), nullable=True),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['currency_code'], ['currencies.currency_code'], ),
    sa.ForeignKeyConstraint(['related_payment_record_id'], ['payment_records.payment_record_id'], ),
    sa.ForeignKeyConstraint(['seller_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('commission_id')
    )
    op.create_table('product_categories',
    sa.Column('category_id', sa.Integer(), nullable=False),
    sa.Column('category_name_key', sa.String(length=100), nullable=False),
    sa.Column('parent_category_id', sa.Integer(), nullable=True),
    sa.Column('category_image_url', sa.String(length=512), nullable=True),
    sa.Column('sort_order', sa.Integer(), nullable=True),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['parent_category_id'], ['product_categories.category_id'], ),
    sa.PrimaryKeyConstraint('category_id'),
    sa.UniqueConstraint('category_name_key')
    )
    op.create_table('product_statuses',
    sa.Column('product_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('product_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('quote_statuses',
    sa.Column('quote_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('quote_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('review_report_reasons',
    sa.Column('reason_id', sa.Integer(), nullable=False),
    sa.Column('reason_key', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('reason_id'),
    sa.UniqueConstraint('reason_key')
    )
    op.create_table('review_statuses',
    sa.Column('status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('rfq_statuses',
    sa.Column('rfq_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('rfq_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('roles',
    sa.Column('role_id', sa.Integer(), nullable=False),
    sa.Column('role_name_key', sa.String(length=50), nullable=False),
    sa.Column('is_active', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('role_id'),
    sa.UniqueConstraint('role_name_key')
    )
    op.create_table('security_event_types',
    sa.Column('security_event_type_id', sa.Integer(), nullable=False),
    sa.Column('event_name_key', sa.String(length=100), nullable=False),
    sa.Column('description_key', sa.String(length=255), nullable=True),
    sa.Column('severity_level', sa.SmallInteger(), nullable=True, comment='مثل 1-5 لخطورة الحدث'),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('security_event_type_id'),
    sa.UniqueConstraint('event_name_key')
    )
    op.create_table('shipment_statuses',
    sa.Column('shipment_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('shipment_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('system_event_types',
    sa.Column('event_type_id', sa.Integer(), nullable=False),
    sa.Column('event_type_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('event_type_id'),
    sa.UniqueConstraint('event_type_name_key')
    )
    op.create_table('transaction_types',
    sa.Column('transaction_type_id', sa.Integer(), nullable=False),
    sa.Column('transaction_type_name_key', sa.String(length=50), nullable=False),
    sa.Column('description_key', sa.String(length=255), nullable=True),
    sa.Column('is_credit', sa.Boolean(), nullable=False, comment='هل المعاملة تضيف رصيدًا أم تخصم'),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('transaction_type_id'),
    sa.UniqueConstraint('transaction_type_name_key')
    )
    op.create_table('units_of_measure',
    sa.Column('unit_id', sa.Integer(), nullable=False),
    sa.Column('unit_name_key', sa.String(length=50), nullable=False),
    sa.Column('unit_abbreviation_key', sa.String(length=10), nullable=False),
    sa.Column('is_base_unit_for_type', sa.Boolean(), nullable=True),
    sa.Column('conversion_factor_to_base', sa.Numeric(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('unit_id'),
    sa.UniqueConstraint('unit_abbreviation_key'),
    sa.UniqueConstraint('unit_name_key')
    )
    op.create_table('user_types',
    sa.Column('user_type_id', sa.Integer(), nullable=False),
    sa.Column('user_type_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('user_type_id'),
    sa.UniqueConstraint('user_type_name_key')
    )
    op.create_table('user_verification_statuses',
    sa.Column('user_verification_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('description_key', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('user_verification_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('wallet_statuses',
    sa.Column('wallet_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('description_key', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('wallet_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('wallet_transactions',
    sa.Column('wallet_transaction_id', sa.BigInteger(), nullable=False),
    sa.Column('wallet_id', sa.BigInteger(), nullable=False),
    sa.Column('transaction_type_id', sa.Integer(), nullable=False),
    sa.Column('amount', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('currency_code', sa.String(length=3), nullable=False),
    sa.Column('transaction_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('current_balance_after_transaction', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('related_order_id', sa.UUID(), nullable=True),
    sa.Column('related_auction_settlement_id', sa.BigInteger(), nullable=True),
    sa.Column('related_payment_record_id', sa.BigInteger(), nullable=True),
    sa.Column('related_withdrawal_request_id', sa.BigInteger(), nullable=True),
    sa.Column('status', sa.String(length=50), server_default=sa.text("'COMPLETED'"), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['currency_code'], ['currencies.currency_code'], ),
    sa.ForeignKeyConstraint(['related_auction_settlement_id'], ['auction_settlements.settlement_id'], ),
    sa.ForeignKeyConstraint(['related_order_id'], ['orders.order_id'], ),
    sa.ForeignKeyConstraint(['related_payment_record_id'], ['payment_records.payment_record_id'], ),
    sa.ForeignKeyConstraint(['related_withdrawal_request_id'], ['withdrawal_requests.withdrawal_request_id'], ),
    sa.ForeignKeyConstraint(['transaction_type_id'], ['transaction_types.transaction_type_id'], ),
    sa.ForeignKeyConstraint(['wallet_id'], ['wallets.wallet_id'], ),
    sa.PrimaryKeyConstraint('wallet_transaction_id')
    )
    op.create_table('withdrawal_request_statuses',
    sa.Column('withdrawal_request_status_id', sa.Integer(), nullable=False),
    sa.Column('status_name_key', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('withdrawal_request_status_id'),
    sa.UniqueConstraint('status_name_key')
    )
    op.create_table('account_status_translations',
    sa.Column('account_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_status_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['account_status_id'], ['account_statuses.account_status_id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('account_status_id', 'language_code')
    )
    op.create_table('activity_type_translations',
    sa.Column('activity_type_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_activity_name', sa.String(length=150), nullable=False),
    sa.Column('translated_activity_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['activity_type_id'], ['activity_types.activity_type_id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('activity_type_id', 'language_code')
    )
    op.create_table('address_type_translations',
    sa.Column('address_type_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_address_type_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['address_type_id'], ['address_types.address_type_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('address_type_id', 'language_code')
    )
    op.create_table('attribute_translations',
    sa.Column('attribute_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_attribute_name', sa.String(length=100), nullable=False),
    sa.Column('translated_attribute_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['attribute_id'], ['attributes.attribute_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('attribute_id', 'language_code')
    )
    op.create_table('attribute_values',
    sa.Column('attribute_value_id', sa.Integer(), nullable=False),
    sa.Column('attribute_id', sa.Integer(), nullable=False),
    sa.Column('attribute_value_key', sa.String(length=100), nullable=False),
    sa.Column('sort_order', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['attribute_id'], ['attributes.attribute_id'], ),
    sa.PrimaryKeyConstraint('attribute_value_id')
    )
    op.create_table('auction_settlement_status_translations',
    sa.Column('settlement_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['settlement_status_id'], ['auction_settlement_statuses.settlement_status_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('settlement_status_id', 'language_code')
    )
    op.create_table('auction_status_translations',
    sa.Column('auction_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['auction_status_id'], ['auction_statuses.auction_status_id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('auction_status_id', 'language_code')
    )
    op.create_table('auction_type_translations',
    sa.Column('auction_type_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_type_name', sa.String(length=100), nullable=False),
    sa.Column('translated_type_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['auction_type_id'], ['auction_types.auction_type_id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('auction_type_id', 'language_code')
    )
    op.create_table('country_translations',
    sa.Column('country_code', sa.String(length=2), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_country_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['country_code'], ['countries.country_code'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('country_code', 'language_code')
    )
    op.create_table('currency_translations',
    sa.Column('currency_code', sa.String(length=3), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_currency_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['currency_code'], ['currencies.currency_code'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('currency_code', 'language_code')
    )
    op.create_table('day_of_week_translations',
    sa.Column('day_name_key', sa.String(length=20), nullable=False, comment='الربط مع dim_dates يتم عبر هذه القيمة'),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_day_name', sa.String(length=30), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('day_name_key', 'language_code')
    )
    op.create_table('deferred_payment_agreement_status_translations',
    sa.Column('deferred_payment_agreement_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['deferred_payment_agreement_status_id'], ['deferred_payment_agreement_statuses.deferred_payment_agreement_status_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('deferred_payment_agreement_status_id', 'language_code')
    )
    op.create_table('entity_type_translations',
    sa.Column('entity_type_code', sa.String(length=50), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_entity_type_name', sa.String(length=100), nullable=False),
    sa.Column('translated_entity_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['entity_type_code'], ['entity_types_for_reviews_or_images.entity_type_code'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('entity_type_code', 'language_code')
    )
    op.create_table('expected_crop_status_translations',
    sa.Column('status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['status_id'], ['expected_crop_statuses.status_id'], ),
    sa.PrimaryKeyConstraint('status_id', 'language_code')
    )
    op.create_table('gg_claim_status_translations',
    sa.Column('gg_claim_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['gg_claim_status_id'], ['gg_claim_statuses.gg_claim_status_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('gg_claim_status_id', 'language_code')
    )
    op.create_table('gg_resolution_type_translations',
    sa.Column('gg_resolution_type_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_resolution_type_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['gg_resolution_type_id'], ['gg_resolution_types.gg_resolution_type_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('gg_resolution_type_id', 'language_code')
    )
    op.create_table('governorates',
    sa.Column('governorate_id', sa.Integer(), nullable=False),
    sa.Column('country_code', sa.String(length=2), nullable=False),
    sa.Column('governorate_name_key', sa.String(length=100), nullable=False),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['country_code'], ['countries.country_code'], ),
    sa.PrimaryKeyConstraint('governorate_id')
    )
    op.create_table('installment_status_translations',
    sa.Column('installment_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['installment_status_id'], ['installment_statuses.installment_status_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('installment_status_id', 'language_code')
    )
    op.create_table('inventory_item_status_translations',
    sa.Column('inventory_item_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_status_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['inventory_item_status_id'], ['inventory_item_statuses.inventory_item_status_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('inventory_item_status_id', 'language_code')
    )
    op.create_table('inventory_transaction_type_translations',
    sa.Column('transaction_type_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_transaction_type_name', sa.String(length=100), nullable=False),
    sa.Column('translated_transaction_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['transaction_type_id'], ['inventory_transaction_types.transaction_type_id'], ),
    sa.PrimaryKeyConstraint('transaction_type_id', 'language_code')
    )
    op.create_table('issuing_authorities',
    sa.Column('authority_id', sa.Integer(), nullable=False),
    sa.Column('authority_name_key', sa.String(length=100), nullable=False),
    sa.Column('country_code', sa.String(length=2), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['country_code'], ['countries.country_code'], ),
    sa.PrimaryKeyConstraint('authority_id'),
    sa.UniqueConstraint('authority_name_key')
    )
    op.create_table('license_type_translations',
    sa.Column('license_type_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_license_type_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['license_type_id'], ['license_types.license_type_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('license_type_id', 'language_code')
    )
    op.create_table('license_verification_status_translations',
    sa.Column('license_verification_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['license_verification_status_id'], ['license_verification_statuses.license_verification_status_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('license_verification_status_id', 'language_code')
    )
    op.create_table('month_translations',
    sa.Column('month_name_key', sa.String(length=20), nullable=False, comment='الربط مع dim_dates يتم عبر هذه القيمة'),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_month_name', sa.String(length=30), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('month_name_key', 'language_code')
    )
    op.create_table('notification_channel_translations',
    sa.Column('channel_translation_id', sa.BigInteger(), nullable=False),
    sa.Column('channel_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_channel_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['channel_id'], ['notification_channels.channel_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('channel_translation_id')
    )
    op.create_table('notification_delivery_status_translations',
    sa.Column('status_translation_id', sa.BigInteger(), nullable=False),
    sa.Column('delivery_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['delivery_status_id'], ['notification_delivery_statuses.delivery_status_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('status_translation_id')
    )
    op.create_table('notification_templates',
    sa.Column('template_id', sa.Integer(), nullable=False),
    sa.Column('template_name_key', sa.String(length=100), nullable=False),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('default_language_code', sa.String(length=10), nullable=False),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['default_language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('template_id'),
    sa.UniqueConstraint('template_name_key')
    )
    op.create_table('notification_type_translations',
    sa.Column('type_translation_id', sa.BigInteger(), nullable=False),
    sa.Column('notification_type_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_type_name', sa.String(length=150), nullable=False),
    sa.Column('translated_type_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['notification_type_id'], ['notification_types.notification_type_id'], ),
    sa.PrimaryKeyConstraint('type_translation_id')
    )
    op.create_table('order_item_status_translations',
    sa.Column('item_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['item_status_id'], ['order_item_statuses.item_status_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('item_status_id', 'language_code')
    )
    op.create_table('order_status_translations',
    sa.Column('order_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_status_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['order_status_id'], ['order_statuses.order_status_id'], ),
    sa.PrimaryKeyConstraint('order_status_id', 'language_code')
    )
    op.create_table('payment_status_translations',
    sa.Column('payment_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['payment_status_id'], ['payment_statuses.payment_status_id'], ),
    sa.PrimaryKeyConstraint('payment_status_id', 'language_code')
    )
    op.create_table('product_category_translations',
    sa.Column('category_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_category_name', sa.String(length=150), nullable=False),
    sa.Column('translated_category_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['category_id'], ['product_categories.category_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('category_id', 'language_code')
    )
    op.create_table('product_status_translations',
    sa.Column('product_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['product_status_id'], ['product_statuses.product_status_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('product_status_id', 'language_code')
    )
    op.create_table('quote_status_translations',
    sa.Column('quote_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['quote_status_id'], ['quote_statuses.quote_status_id'], ),
    sa.PrimaryKeyConstraint('quote_status_id', 'language_code')
    )
    op.create_table('review_criteria',
    sa.Column('criteria_id', sa.Integer(), nullable=False),
    sa.Column('criteria_name_key', sa.String(length=100), nullable=False),
    sa.Column('applicable_entity_type_code', sa.String(length=50), nullable=True),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['applicable_entity_type_code'], ['entity_types_for_reviews_or_images.entity_type_code'], ),
    sa.PrimaryKeyConstraint('criteria_id'),
    sa.UniqueConstraint('criteria_name_key')
    )
    op.create_table('review_report_reason_translations',
    sa.Column('reason_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_reason_text', sa.String(length=255), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['reason_id'], ['review_report_reasons.reason_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('reason_id', 'language_code')
    )
    op.create_table('review_status_translations',
    sa.Column('status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['status_id'], ['review_statuses.status_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('status_id', 'language_code')
    )
    op.create_table('rfq_status_translations',
    sa.Column('rfq_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['rfq_status_id'], ['rfq_statuses.rfq_status_id'], ),
    sa.PrimaryKeyConstraint('rfq_status_id', 'language_code')
    )
    op.create_table('role_permissions',
    sa.Column('role_permission_id', sa.BigInteger(), nullable=False),
    sa.Column('role_id', sa.Integer(), nullable=False),
    sa.Column('permission_id', sa.Integer(), nullable=False),
    sa.Column('granted_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['permission_id'], ['permissions.permission_id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['role_id'], ['roles.role_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('role_permission_id')
    )
    op.create_table('role_translations',
    sa.Column('role_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_role_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['role_id'], ['roles.role_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('role_id', 'language_code')
    )
    op.create_table('security_event_type_translations',
    sa.Column('security_event_type_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_event_name', sa.String(length=150), nullable=False),
    sa.Column('translated_event_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['security_event_type_id'], ['security_event_types.security_event_type_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('security_event_type_id', 'language_code')
    )
    op.create_table('shipment_status_translations',
    sa.Column('shipment_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['shipment_status_id'], ['shipment_statuses.shipment_status_id'], ),
    sa.PrimaryKeyConstraint('shipment_status_id', 'language_code')
    )
    op.create_table('system_event_type_translations',
    sa.Column('event_type_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_event_type_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['event_type_id'], ['system_event_types.event_type_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('event_type_id', 'language_code')
    )
    op.create_table('transaction_type_translations',
    sa.Column('transaction_type_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_transaction_type_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['transaction_type_id'], ['transaction_types.transaction_type_id'], ),
    sa.PrimaryKeyConstraint('transaction_type_id', 'language_code')
    )
    op.create_table('unit_of_measure_translations',
    sa.Column('unit_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_unit_name', sa.String(length=50), nullable=False),
    sa.Column('translated_unit_abbreviation', sa.String(length=20), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['unit_id'], ['units_of_measure.unit_id'], ),
    sa.PrimaryKeyConstraint('unit_id', 'language_code')
    )
    op.create_table('user_type_translations',
    sa.Column('user_type_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_user_type_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['user_type_id'], ['user_types.user_type_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('user_type_id', 'language_code')
    )
    op.create_table('user_verification_status_translations',
    sa.Column('user_verification_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['user_verification_status_id'], ['user_verification_statuses.user_verification_status_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('user_verification_status_id', 'language_code')
    )
    op.create_table('users',
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('phone_number', sa.String(length=20), nullable=False),
    sa.Column('phone_verified_at', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('email', sa.String(length=255), nullable=True),
    sa.Column('email_verified_at', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('password_hash', sa.String(length=255), nullable=False),
    sa.Column('first_name', sa.String(length=100), nullable=False),
    sa.Column('last_name', sa.String(length=100), nullable=False),
    sa.Column('profile_picture_url', sa.String(length=512), nullable=True),
    sa.Column('default_user_role_id', sa.Integer(), nullable=True),
    sa.Column('user_type_id', sa.Integer(), nullable=False),
    sa.Column('account_status_id', sa.Integer(), nullable=False),
    sa.Column('user_verification_status_id', sa.Integer(), nullable=True),
    sa.Column('preferred_language_code', sa.String(length=10), server_default=sa.text("'ar'"), nullable=False),
    sa.Column('last_login_timestamp', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('last_activity_timestamp', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), server_default=sa.text('(false)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_by_user_id', sa.UUID(), nullable=True),
    sa.Column('additional_data', sa.JSON(), nullable=True),
    # sa.CheckConstraint("email IS NULL OR email ~ '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$'", name='chk_valid_email'),
    # sa.CheckConstraint("phone_number ~ '^\\+9665[0-9]{8}$'", name='chk_sa_phone_number'),
    sa.ForeignKeyConstraint(['account_status_id'], ['account_statuses.account_status_id'], ),
    sa.ForeignKeyConstraint(['default_user_role_id'], ['roles.role_id'], ),
    sa.ForeignKeyConstraint(['preferred_language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['updated_by_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['user_type_id'], ['user_types.user_type_id'], ),
    sa.ForeignKeyConstraint(['user_verification_status_id'], ['user_verification_statuses.user_verification_status_id'], ),
    sa.PrimaryKeyConstraint('user_id'),
    sa.UniqueConstraint('email'),
    sa.UniqueConstraint('phone_number')
    )
    op.create_table('wallet_status_translations',
    sa.Column('wallet_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_wallet_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_wallet_status_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['wallet_status_id'], ['wallet_statuses.wallet_status_id'], ),
    sa.PrimaryKeyConstraint('wallet_status_id', 'language_code')
    )
    op.create_table('withdrawal_request_status_translations',
    sa.Column('withdrawal_request_status_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_status_name', sa.String(length=100), nullable=False),
    sa.Column('translated_status_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['withdrawal_request_status_id'], ['withdrawal_request_statuses.withdrawal_request_status_id'], ),
    sa.PrimaryKeyConstraint('withdrawal_request_status_id', 'language_code')
    )
    op.create_table('account_status_history',
    sa.Column('account_status_history_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('old_account_status_id', sa.Integer(), nullable=True),
    sa.Column('new_account_status_id', sa.Integer(), nullable=False),
    sa.Column('change_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('changed_by_user_id', sa.UUID(), nullable=True),
    sa.Column('reason_for_change', sa.Text(), nullable=True),
    sa.Column('additional_notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['changed_by_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['new_account_status_id'], ['account_statuses.account_status_id'], ),
    sa.ForeignKeyConstraint(['old_account_status_id'], ['account_statuses.account_status_id'], ),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('account_status_history_id')
    )
    op.create_table('application_settings',
    sa.Column('setting_id', sa.BigInteger(), autoincrement=True, nullable=False),
    sa.Column('setting_key', sa.String(length=255), nullable=False),
    sa.Column('setting_value', sa.Text(), nullable=True),
    sa.Column('setting_datatype', sa.String(length=50), nullable=False, comment="e.g., 'INTEGER', 'STRING', 'BOOLEAN', 'JSON', 'TEXT'"),
    sa.Column('description_key', sa.String(length=255), nullable=True),
    sa.Column('module_scope', sa.String(length=100), nullable=True, comment="e.g., 'AUCTIONS', 'PAYMENTS'"),
    sa.Column('is_editable_by_admin', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_by_user_id', sa.UUID(), nullable=True),
    sa.ForeignKeyConstraint(['updated_by_user_id'], ['users.user_id'], ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('setting_id'),
    sa.UniqueConstraint('setting_key')
    )
    op.create_table('attribute_value_translations',
    sa.Column('attribute_value_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_value_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['attribute_value_id'], ['attribute_values.attribute_value_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('attribute_value_id', 'language_code')
    )
    op.create_table('cities',
    sa.Column('city_id', sa.Integer(), nullable=False),
    sa.Column('governorate_id', sa.Integer(), nullable=False),
    sa.Column('city_name_key', sa.String(length=100), nullable=False),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['governorate_id'], ['governorates.governorate_id'], ),
    sa.PrimaryKeyConstraint('city_id')
    )
    op.create_table('data_change_audit_logs',
    sa.Column('change_log_id', sa.BigInteger(), autoincrement=True, nullable=False),
    sa.Column('table_name', sa.String(length=100), nullable=False),
    sa.Column('record_id', sa.String(length=255), nullable=False),
    sa.Column('column_name', sa.String(length=100), nullable=True),
    sa.Column('old_value', sa.Text(), nullable=True),
    sa.Column('new_value', sa.Text(), nullable=True),
    sa.Column('change_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('changed_by_user_id', sa.UUID(), nullable=True),
    sa.Column('change_type', sa.String(length=20), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['changed_by_user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('change_log_id')
    )
    op.create_table('feature_flags',
    sa.Column('flag_id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('flag_name_key', sa.String(length=100), nullable=False),
    sa.Column('description_key', sa.String(length=255), nullable=True),
    sa.Column('is_enabled', sa.Boolean(), server_default=sa.text('(false)'), nullable=False),
    sa.Column('activation_rules', sa.JSON(), nullable=True, comment='e.g., enable for specific user IDs, or a percentage of users'),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_by_user_id', sa.UUID(), nullable=True),
    sa.ForeignKeyConstraint(['updated_by_user_id'], ['users.user_id'], ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('flag_id'),
    sa.UniqueConstraint('flag_name_key')
    )
    op.create_table('governorate_translations',
    sa.Column('governorate_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_governorate_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['governorate_id'], ['governorates.governorate_id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('governorate_id', 'language_code')
    )
    op.create_table('images',
    sa.Column('image_id', sa.BigInteger(), nullable=False),
    sa.Column('entity_id', sa.String(), nullable=False, comment='معرف الكيان الذي ترتبط به الصورة (UUID أو Integer)'),
    sa.Column('entity_type', sa.String(length=50), nullable=False, comment='نوع الكيان من جدول entity_types_for_reviews_or_images'),
    sa.Column('image_url', sa.String(length=512), nullable=False),
    sa.Column('alt_text_key', sa.String(length=255), nullable=True),
    sa.Column('is_primary_image', sa.Boolean(), server_default=sa.text('(false)'), nullable=False),
    sa.Column('sort_order', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('uploaded_by_user_id', sa.UUID(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['uploaded_by_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('image_id')
    )
    op.create_table('issuing_authority_translations',
    sa.Column('authority_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_authority_name', sa.String(length=150), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['authority_id'], ['issuing_authorities.authority_id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('authority_id', 'language_code')
    )
    op.create_table('licenses',
    sa.Column('license_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('license_type_id', sa.Integer(), nullable=False),
    sa.Column('issuing_authority_id', sa.Integer(), nullable=True),
    sa.Column('file_storage_key', sa.String(length=255), nullable=False, comment='يربط السجل بالملف الفعلي المخزن على الخدمة السحابية'),
    sa.Column('license_number', sa.String(length=100), nullable=False),
    sa.Column('issue_date', sa.Date(), nullable=True),
    sa.Column('expiry_date', sa.Date(), nullable=True),
    sa.Column('verification_status_id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['issuing_authority_id'], ['issuing_authorities.authority_id'], ondelete='RESTRICT'),
    sa.ForeignKeyConstraint(['license_type_id'], ['license_types.license_type_id'], ondelete='RESTRICT'),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['verification_status_id'], ['license_verification_statuses.license_verification_status_id'], ondelete='RESTRICT'),
    sa.PrimaryKeyConstraint('license_id')
    )
    op.create_table('manual_verification_log',
    sa.Column('log_id', sa.BigInteger(), nullable=False),
    sa.Column('reviewer_user_id', sa.UUID(), nullable=False),
    sa.Column('entity_type', sa.String(length=50), nullable=False, comment="نوع الكيان الذي تمت مراجعته (e.g., 'LICENSE')"),
    sa.Column('entity_id', sa.BigInteger(), nullable=False, comment='معرف الكيان الذي تمت مراجعته (e.g., license_id)'),
    sa.Column('action_taken', sa.String(length=50), nullable=False, comment="الإجراء المتخذ (e.g., 'APPROVED', 'REJECTED')"),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['reviewer_user_id'], ['users.user_id'], ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('log_id')
    )
    op.create_table('notification_logs',
    sa.Column('notification_log_id', sa.UUID(), server_default=sa.text('(gen_random_uuid())'), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('template_id', sa.Integer(), nullable=True),
    sa.Column('channel_id', sa.Integer(), nullable=False),
    sa.Column('recipient_address', sa.String(length=255), nullable=False),
    sa.Column('subject_rendered', sa.String(length=255), nullable=True),
    sa.Column('body_rendered', sa.Text(), nullable=False),
    sa.Column('sent_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('delivery_status_id', sa.Integer(), nullable=False),
    sa.Column('gateway_response', sa.Text(), nullable=True),
    sa.Column('related_entity_type', sa.String(length=50), nullable=True),
    sa.Column('related_entity_id', sa.String(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['channel_id'], ['notification_channels.channel_id'], ),
    sa.ForeignKeyConstraint(['delivery_status_id'], ['notification_delivery_statuses.delivery_status_id'], ),
    sa.ForeignKeyConstraint(['template_id'], ['notification_templates.template_id'], ),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('notification_log_id')
    )
    op.create_table('notification_template_translations',
    sa.Column('template_translation_id', sa.BigInteger(), nullable=False),
    sa.Column('template_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_subject', sa.String(length=255), nullable=True),
    sa.Column('translated_body', sa.Text(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['template_id'], ['notification_templates.template_id'], ),
    sa.PrimaryKeyConstraint('template_translation_id')
    )
    op.create_table('password_reset_tokens',
    sa.Column('token_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('token_hash', sa.String(length=255), nullable=False),
    sa.Column('expiry_timestamp', sa.TIMESTAMP(timezone=True), nullable=False),
    sa.Column('is_used', sa.Boolean(), server_default=sa.text('(false)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('token_id'),
    sa.UniqueConstraint('token_hash')
    )
    op.create_table('phone_change_requests',
    sa.Column('request_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('old_phone_number', sa.String(length=20), nullable=False),
    sa.Column('new_phone_number', sa.String(length=20), nullable=False),
    sa.Column('old_phone_otp_code', sa.String(length=10), nullable=True),
    sa.Column('new_phone_otp_code', sa.String(length=10), nullable=True),
    sa.Column('request_status', sa.String(length=50), server_default=sa.text("'PENDING_OLD_PHONE_VERIFICATION'"), nullable=False),
    sa.Column('request_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('verification_attempts', sa.SmallInteger(), server_default=sa.text('0'), nullable=False),
    sa.Column('last_attempt_timestamp', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('request_id')
    )
    op.create_table('price_tier_rules',
    sa.Column('rule_id', sa.Integer(), nullable=False),
    sa.Column('rule_name_key', sa.String(length=100), nullable=False),
    sa.Column('description_key', sa.String(length=255), nullable=True),
    sa.Column('discount_type', sa.String(length=20), nullable=True, comment="e.g., 'PERCENTAGE', 'FIXED_AMOUNT', 'NEW_PRICE'"),
    sa.Column('created_by_user_id', sa.UUID(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['created_by_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('rule_id'),
    sa.UniqueConstraint('rule_name_key')
    )
    op.create_table('products',
    sa.Column('product_id', sa.UUID(), server_default=sa.text('(gen_random_uuid())'), nullable=False),
    sa.Column('seller_user_id', sa.UUID(), nullable=False),
    sa.Column('category_id', sa.Integer(), nullable=False),
    sa.Column('base_price_per_unit', sa.Numeric(precision=10, scale=2), nullable=False, comment='السعر الأساسي قبل أي تسعير ديناميكي'),
    sa.Column('unit_of_measure_id', sa.Integer(), nullable=False),
    sa.Column('country_of_origin_code', sa.String(length=2), nullable=True),
    sa.Column('is_organic', sa.Boolean(), server_default=sa.text('(false)'), nullable=False),
    sa.Column('is_local_saudi_product', sa.Boolean(), server_default=sa.text('(false)'), nullable=False),
    sa.Column('product_status_id', sa.Integer(), nullable=False),
    sa.Column('main_image_url', sa.String(length=512), nullable=True),
    sa.Column('sku', sa.String(length=100), nullable=True),
    sa.Column('tags', sa.JSON(), nullable=True, comment='لتسهيل البحث والتصنيف'),
    sa.Column('updated_by_user_id', sa.UUID(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['category_id'], ['product_categories.category_id'], ),
    sa.ForeignKeyConstraint(['country_of_origin_code'], ['countries.country_code'], ),
    sa.ForeignKeyConstraint(['product_status_id'], ['product_statuses.product_status_id'], ),
    sa.ForeignKeyConstraint(['seller_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['unit_of_measure_id'], ['units_of_measure.unit_id'], ),
    sa.ForeignKeyConstraint(['updated_by_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('product_id'),
    sa.UniqueConstraint('sku')
    )
    op.create_table('review_criteria_translations',
    sa.Column('criteria_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_criteria_name', sa.String(length=150), nullable=False),
    sa.Column('translated_criteria_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['criteria_id'], ['review_criteria.criteria_id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('criteria_id', 'language_code')
    )
    op.create_table('security_event_logs',
    sa.Column('security_event_id', sa.BigInteger(), autoincrement=True, nullable=False),
    sa.Column('event_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('security_event_type_id', sa.Integer(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=True),
    sa.Column('target_user_id', sa.UUID(), nullable=True),
    sa.Column('ip_address', sa.String(length=45), nullable=True),
    sa.Column('details', sa.Text(), nullable=True),
    sa.Column('severity_level', sa.SmallInteger(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['security_event_type_id'], ['security_event_types.security_event_type_id'], ),
    sa.ForeignKeyConstraint(['target_user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('security_event_id')
    )
    op.create_table('system_audit_logs',
    sa.Column('log_id', sa.BigInteger(), autoincrement=True, nullable=False),
    sa.Column('event_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('event_type_id', sa.Integer(), nullable=True),
    sa.Column('event_description', sa.Text(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=True),
    sa.Column('ip_address', sa.String(length=45), nullable=True),
    sa.Column('target_entity_type', sa.String(length=50), nullable=True),
    sa.Column('target_entity_id', sa.String(length=255), nullable=True),
    sa.Column('details', sa.JSON(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['event_type_id'], ['system_event_types.event_type_id'], ),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('log_id')
    )
    op.create_table('system_maintenance_schedule',
    sa.Column('maintenance_id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('start_timestamp', sa.TIMESTAMP(timezone=True), nullable=False),
    sa.Column('end_timestamp', sa.TIMESTAMP(timezone=True), nullable=False),
    sa.Column('maintenance_message_key', sa.String(length=255), nullable=False),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(false)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('created_by_user_id', sa.UUID(), nullable=True),
    sa.ForeignKeyConstraint(['created_by_user_id'], ['users.user_id'], ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('maintenance_id')
    )
    op.create_table('user_notification_preferences',
    sa.Column('preference_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('notification_type_id', sa.Integer(), nullable=False),
    sa.Column('channel_id', sa.Integer(), nullable=False),
    sa.Column('is_enabled', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['channel_id'], ['notification_channels.channel_id'], ),
    sa.ForeignKeyConstraint(['notification_type_id'], ['notification_types.notification_type_id'], ),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('preference_id'),
    sa.UniqueConstraint('user_id', 'notification_type_id', 'channel_id', name='uq_user_notification_preference')
    )
    op.create_table('user_preferences',
    sa.Column('user_preference_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('preference_key', sa.String(length=100), nullable=False),
    sa.Column('preference_value', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('user_preference_id')
    )
    op.create_table('user_roles',
    sa.Column('user_role_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('role_id', sa.Integer(), nullable=False),
    sa.Column('assigned_by_user_id', sa.UUID(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['assigned_by_user_id'], ['users.user_id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['role_id'], ['roles.role_id'], ondelete='RESTRICT'),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('user_role_id')
    )
    op.create_table('user_sessions',
    sa.Column('session_id', sa.UUID(), server_default=sa.text('(gen_random_uuid())'), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('device_identifier', sa.String(length=255), nullable=True),
    sa.Column('ip_address', sa.String(length=45), nullable=True),
    sa.Column('user_agent', sa.Text(), nullable=True),
    sa.Column('login_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('last_activity_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('expiry_timestamp', sa.TIMESTAMP(timezone=True), nullable=False),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('logout_timestamp', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('refresh_token_hash', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('session_id')
    )
    op.create_table('user_verification_history',
    sa.Column('history_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('changed_by_user_id', sa.UUID(), nullable=True),
    sa.Column('old_user_verification_status_id', sa.Integer(), nullable=True),
    sa.Column('new_user_verification_status_id', sa.Integer(), nullable=False),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['changed_by_user_id'], ['users.user_id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['new_user_verification_status_id'], ['user_verification_statuses.user_verification_status_id'], ondelete='RESTRICT'),
    sa.ForeignKeyConstraint(['old_user_verification_status_id'], ['user_verification_statuses.user_verification_status_id'], ondelete='RESTRICT'),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('history_id')
    )
    op.create_table('wallets',
    sa.Column('wallet_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('current_balance', sa.Numeric(precision=12, scale=2), server_default=sa.text('(0.00)'), nullable=False),
    sa.Column('currency_code', sa.String(length=3), nullable=False),
    sa.Column('wallet_status_id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['currency_code'], ['currencies.currency_code'], ),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['wallet_status_id'], ['wallet_statuses.wallet_status_id'], ),
    sa.PrimaryKeyConstraint('wallet_id'),
    sa.UniqueConstraint('user_id')
    )
    op.create_table('application_setting_translations',
    sa.Column('setting_translation_id', sa.BigInteger(), autoincrement=True, nullable=False),
    sa.Column('setting_id', sa.BigInteger(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_setting_value', sa.Text(), nullable=True),
    sa.Column('translated_setting_description', sa.Text(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['setting_id'], ['application_settings.setting_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('setting_translation_id')
    )
    op.create_table('auctions',
    sa.Column('auction_id', sa.UUID(), server_default=sa.text('(gen_random_uuid())'), nullable=False),
    sa.Column('seller_user_id', sa.UUID(), nullable=False),
    sa.Column('product_id', sa.UUID(), nullable=False),
    sa.Column('auction_type_id', sa.Integer(), nullable=False),
    sa.Column('auction_status_id', sa.Integer(), nullable=False),
    sa.Column('auction_title_key', sa.String(length=255), nullable=True),
    sa.Column('custom_auction_title', sa.Text(), nullable=True),
    sa.Column('auction_description_key', sa.String(length=255), nullable=True),
    sa.Column('custom_auction_description', sa.Text(), nullable=True),
    sa.Column('start_timestamp', sa.TIMESTAMP(timezone=True), nullable=False),
    sa.Column('end_timestamp', sa.TIMESTAMP(timezone=True), nullable=False),
    sa.Column('starting_price_per_unit', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('minimum_bid_increment', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('reserve_price_per_unit', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('quantity_offered', sa.Numeric(), nullable=False),
    sa.Column('unit_of_measure_id_for_quantity', sa.Integer(), nullable=False),
    sa.Column('current_highest_bid_amount_per_unit', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('current_highest_bidder_user_id', sa.UUID(), nullable=True),
    sa.Column('total_bids_count', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('is_private_auction', sa.Boolean(), server_default=sa.text('(false)'), nullable=False),
    sa.Column('pre_arrival_shipping_info', sa.Text(), nullable=True),
    sa.Column('cancellation_reason', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['auction_status_id'], ['auction_statuses.auction_status_id'], ),
    sa.ForeignKeyConstraint(['auction_type_id'], ['auction_types.auction_type_id'], ),
    sa.ForeignKeyConstraint(['current_highest_bidder_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['product_id'], ['products.product_id'], ),
    sa.ForeignKeyConstraint(['seller_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['unit_of_measure_id_for_quantity'], ['units_of_measure.unit_id'], ),
    sa.PrimaryKeyConstraint('auction_id')
    )
    op.create_table('city_translations',
    sa.Column('city_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_city_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['city_id'], ['cities.city_id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('city_id', 'language_code')
    )
    op.create_table('districts',
    sa.Column('district_id', sa.Integer(), nullable=False),
    sa.Column('city_id', sa.Integer(), nullable=False),
    sa.Column('district_name_key', sa.String(length=100), nullable=False),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['city_id'], ['cities.city_id'], ),
    sa.PrimaryKeyConstraint('district_id')
    )
    op.create_table('expected_crops',
    sa.Column('expected_crop_id', sa.BigInteger(), nullable=False),
    sa.Column('producer_user_id', sa.UUID(), nullable=False),
    sa.Column('product_id', sa.UUID(), nullable=True),
    sa.Column('custom_product_name_key', sa.String(length=255), nullable=True),
    sa.Column('expected_quantity', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('unit_of_measure_id', sa.Integer(), nullable=False),
    sa.Column('expected_harvest_start_date', sa.Date(), nullable=False),
    sa.Column('expected_harvest_end_date', sa.Date(), nullable=True),
    sa.Column('offering_status_id', sa.Integer(), nullable=False),
    sa.Column('cultivation_notes_key', sa.Text(), nullable=True),
    sa.Column('asking_price_per_unit', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('is_organic', sa.Boolean(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['offering_status_id'], ['expected_crop_statuses.status_id'], ),
    sa.ForeignKeyConstraint(['producer_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['product_id'], ['products.product_id'], ),
    sa.ForeignKeyConstraint(['unit_of_measure_id'], ['units_of_measure.unit_id'], ),
    sa.PrimaryKeyConstraint('expected_crop_id')
    )
    op.create_table('price_tier_rule_levels',
    sa.Column('level_id', sa.Integer(), nullable=False),
    sa.Column('rule_id', sa.Integer(), nullable=False),
    sa.Column('minimum_quantity', sa.Numeric(), nullable=False),
    sa.Column('price_per_unit_at_level', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('discount_value', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('level_description_key', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['rule_id'], ['price_tier_rules.rule_id'], ),
    sa.PrimaryKeyConstraint('level_id')
    )
    op.create_table('price_tier_rule_translations',
    sa.Column('rule_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_rule_name', sa.String(length=150), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['rule_id'], ['price_tier_rules.rule_id'], ),
    sa.PrimaryKeyConstraint('rule_id', 'language_code')
    )
    op.create_table('product_packaging_options',
    sa.Column('packaging_option_id', sa.BigInteger(), nullable=False),
    sa.Column('product_id', sa.UUID(), nullable=False),
    sa.Column('packaging_option_name_key', sa.String(length=100), nullable=True),
    sa.Column('custom_packaging_description', sa.Text(), nullable=True),
    sa.Column('quantity_in_packaging', sa.Numeric(), nullable=False),
    sa.Column('unit_of_measure_id_for_quantity', sa.Integer(), nullable=False),
    sa.Column('base_price', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('sku', sa.String(length=100), nullable=True),
    sa.Column('barcode', sa.String(length=100), nullable=True),
    sa.Column('is_default_option', sa.Boolean(), server_default=sa.text('(false)'), nullable=False),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('sort_order', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['product_id'], ['products.product_id'], ),
    sa.ForeignKeyConstraint(['unit_of_measure_id_for_quantity'], ['units_of_measure.unit_id'], ),
    sa.PrimaryKeyConstraint('packaging_option_id'),
    sa.UniqueConstraint('sku')
    )
    op.create_table('product_translations',
    sa.Column('product_translation_id', sa.BigInteger(), nullable=False),
    sa.Column('product_id', sa.UUID(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_product_name', sa.String(length=255), nullable=False),
    sa.Column('translated_description', sa.Text(), nullable=True),
    sa.Column('translated_short_description', sa.String(length=500), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['product_id'], ['products.product_id'], ),
    sa.PrimaryKeyConstraint('product_translation_id')
    )
    op.create_table('product_varieties',
    sa.Column('variety_id', sa.BigInteger(), nullable=False),
    sa.Column('product_id', sa.UUID(), nullable=False),
    sa.Column('variety_name_key', sa.String(length=100), nullable=False, comment='مفتاح لاسم الصنف للترجمة'),
    sa.Column('sku_variant', sa.String(length=100), nullable=True),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['product_id'], ['products.product_id'], ),
    sa.PrimaryKeyConstraint('variety_id'),
    sa.UniqueConstraint('sku_variant')
    )
    op.create_table('search_logs',
    sa.Column('search_log_id', sa.BigInteger(), autoincrement=True, nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=True),
    sa.Column('session_id', sa.UUID(), nullable=True),
    sa.Column('search_query', sa.Text(), nullable=False),
    sa.Column('search_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('number_of_results_returned', sa.Integer(), nullable=True),
    sa.Column('filters_applied', sa.JSON(), nullable=True),
    sa.Column('clicked_result_entity_type', sa.String(length=50), nullable=True),
    sa.Column('clicked_result_entity_id', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['session_id'], ['user_sessions.session_id'], onupdate='CASCADE', ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='SET NULL'),
    sa.PrimaryKeyConstraint('search_log_id')
    )
    op.create_table('user_activity_logs',
    sa.Column('activity_log_id', sa.BigInteger(), autoincrement=True, nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('session_id', sa.UUID(), nullable=True),
    sa.Column('activity_type_id', sa.Integer(), nullable=False),
    sa.Column('activity_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('entity_type', sa.String(length=50), nullable=True),
    sa.Column('entity_id', sa.String(length=255), nullable=True),
    sa.Column('details', sa.JSON(), nullable=True),
    sa.Column('ip_address', sa.String(length=45), nullable=True),
    sa.Column('user_agent', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['activity_type_id'], ['activity_types.activity_type_id'], ),
    sa.ForeignKeyConstraint(['session_id'], ['user_sessions.session_id'], onupdate='CASCADE', ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('activity_log_id')
    )
    op.create_table('withdrawal_requests',
    sa.Column('withdrawal_request_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('wallet_id', sa.BigInteger(), nullable=False),
    sa.Column('amount_requested', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('currency_code', sa.String(length=3), nullable=False),
    sa.Column('beneficiary_bank_name', sa.String(length=100), nullable=False),
    sa.Column('beneficiary_iban', sa.String(length=34), nullable=False),
    sa.Column('beneficiary_account_name', sa.String(length=150), nullable=False),
    sa.Column('request_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('withdrawal_request_status_id', sa.Integer(), nullable=False),
    sa.Column('admin_notes', sa.Text(), nullable=True),
    sa.Column('processed_by_user_id', sa.UUID(), nullable=True),
    sa.Column('processed_timestamp', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('transaction_reference', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['currency_code'], ['currencies.currency_code'], ),
    sa.ForeignKeyConstraint(['processed_by_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['wallet_id'], ['wallets.wallet_id'], ),
    sa.ForeignKeyConstraint(['withdrawal_request_status_id'], ['withdrawal_request_statuses.withdrawal_request_status_id'], ),
    sa.PrimaryKeyConstraint('withdrawal_request_id')
    )
    op.create_table('addresses',
    sa.Column('address_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('address_type_id', sa.Integer(), nullable=False),
    sa.Column('country_code', sa.String(length=2), nullable=False),
    sa.Column('governorate_id', sa.Integer(), nullable=True),
    sa.Column('city_id', sa.Integer(), nullable=False),
    sa.Column('district_id', sa.Integer(), nullable=True),
    sa.Column('street_name', sa.String(length=255), nullable=False),
    sa.Column('building_number', sa.String(length=50), nullable=True),
    sa.Column('postal_code', sa.String(length=20), nullable=True),
    sa.Column('additional_details', sa.Text(), nullable=True),
    sa.Column('latitude', sa.Numeric(precision=10, scale=8), nullable=True),
    sa.Column('longitude', sa.Numeric(precision=11, scale=8), nullable=True),
    sa.Column('is_primary', sa.Boolean(), server_default=sa.text('(false)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['address_type_id'], ['address_types.address_type_id'], ),
    sa.ForeignKeyConstraint(['city_id'], ['cities.city_id'], ),
    sa.ForeignKeyConstraint(['country_code'], ['countries.country_code'], ),
    sa.ForeignKeyConstraint(['district_id'], ['districts.district_id'], ),
    sa.ForeignKeyConstraint(['governorate_id'], ['governorates.governorate_id'], ),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('address_id')
    )
    op.create_table('auction_lots',
    sa.Column('lot_id', sa.UUID(), server_default=sa.text('(gen_random_uuid())'), nullable=False),
    sa.Column('auction_id', sa.UUID(), nullable=False),
    sa.Column('lot_title_key', sa.String(length=255), nullable=True),
    sa.Column('custom_lot_title', sa.Text(), nullable=True),
    sa.Column('lot_description_key', sa.String(length=255), nullable=True),
    sa.Column('custom_lot_description', sa.Text(), nullable=True),
    sa.Column('quantity_in_lot', sa.Numeric(), nullable=True),
    sa.Column('lot_starting_price', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('lot_status_id', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['auction_id'], ['auctions.auction_id'], ),
    sa.ForeignKeyConstraint(['lot_status_id'], ['auction_statuses.auction_status_id'], ),
    sa.PrimaryKeyConstraint('lot_id')
    )
    op.create_table('auction_participants',
    sa.Column('auction_participant_id', sa.BigInteger(), nullable=False),
    sa.Column('auction_id', sa.UUID(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('participation_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('participation_status', sa.String(length=50), nullable=True, comment="e.g., 'REGISTERED', 'APPROVED_TO_BID', 'BLOCKED'"),
    sa.ForeignKeyConstraint(['auction_id'], ['auctions.auction_id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('auction_participant_id')
    )
    op.create_table('auction_watchlists',
    sa.Column('watchlist_entry_id', sa.BigInteger(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('auction_id', sa.UUID(), nullable=False),
    sa.Column('added_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['auction_id'], ['auctions.auction_id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('watchlist_entry_id'),
    sa.UniqueConstraint('user_id', 'auction_id', name='uq_user_auction_watchlist')
    )
    op.create_table('auto_bid_settings',
    sa.Column('auto_bid_setting_id', sa.BigInteger(), nullable=False),
    sa.Column('auction_id', sa.UUID(), nullable=False),
    sa.Column('user_id', sa.UUID(), nullable=False),
    sa.Column('max_bid_amount_per_unit', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('increment_amount', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['auction_id'], ['auctions.auction_id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('auto_bid_setting_id'),
    sa.UniqueConstraint('auction_id', 'user_id', name='uq_user_auction_auto_bid')
    )
    op.create_table('district_translations',
    sa.Column('district_id', sa.Integer(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_district_name', sa.String(length=100), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['district_id'], ['districts.district_id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('district_id', 'language_code')
    )
    op.create_table('expected_crop_translations',
    sa.Column('expected_crop_id', sa.BigInteger(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_product_name', sa.String(length=255), nullable=True),
    sa.Column('translated_cultivation_notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['expected_crop_id'], ['expected_crops.expected_crop_id'], ),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.PrimaryKeyConstraint('expected_crop_id', 'language_code')
    )
    op.create_table('inventory_items',
    sa.Column('inventory_item_id', sa.BigInteger(), nullable=False),
    sa.Column('product_packaging_option_id', sa.BigInteger(), nullable=False),
    sa.Column('seller_user_id', sa.UUID(), nullable=False),
    sa.Column('available_quantity', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('reserved_quantity', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('on_hand_quantity', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('inventory_item_status_id', sa.Integer(), nullable=False),
    sa.Column('last_restock_date', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('location_identifier', sa.String(length=100), nullable=True, comment='لتحديد موقع المخزون في مستودع البائع'),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.CheckConstraint('available_quantity >= 0', name='chk_available_quantity_positive'),
    sa.CheckConstraint('on_hand_quantity >= 0', name='chk_on_hand_quantity_positive'),
    sa.CheckConstraint('reserved_quantity >= 0', name='chk_reserved_quantity_positive'),
    sa.ForeignKeyConstraint(['inventory_item_status_id'], ['inventory_item_statuses.inventory_item_status_id'], ),
    sa.ForeignKeyConstraint(['product_packaging_option_id'], ['product_packaging_options.packaging_option_id'], ),
    sa.ForeignKeyConstraint(['seller_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('inventory_item_id')
    )
    op.create_table('product_packaging_option_translations',
    sa.Column('packaging_option_id', sa.BigInteger(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_packaging_option_name', sa.String(length=150), nullable=False),
    sa.Column('translated_custom_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['packaging_option_id'], ['product_packaging_options.packaging_option_id'], ),
    sa.PrimaryKeyConstraint('packaging_option_id', 'language_code')
    )
    op.create_table('product_packaging_price_tier_rule_assignments',
    sa.Column('assignment_id', sa.BigInteger(), nullable=False),
    sa.Column('packaging_option_id', sa.BigInteger(), nullable=False),
    sa.Column('rule_id', sa.Integer(), nullable=False),
    sa.Column('start_date', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('end_date', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['packaging_option_id'], ['product_packaging_options.packaging_option_id'], ),
    sa.ForeignKeyConstraint(['rule_id'], ['price_tier_rules.rule_id'], ),
    sa.PrimaryKeyConstraint('assignment_id')
    )
    op.create_table('product_price_history',
    sa.Column('price_history_id', sa.BigInteger(), nullable=False),
    sa.Column('product_packaging_option_id', sa.BigInteger(), nullable=False),
    sa.Column('old_price_per_unit', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('new_price_per_unit', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('price_change_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('changed_by_user_id', sa.UUID(), nullable=True),
    sa.Column('change_reason', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['changed_by_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['product_packaging_option_id'], ['product_packaging_options.packaging_option_id'], ),
    sa.PrimaryKeyConstraint('price_history_id')
    )
    op.create_table('product_variety_attributes',
    sa.Column('product_variety_attribute_id', sa.BigInteger(), nullable=False),
    sa.Column('product_variety_id', sa.BigInteger(), nullable=False),
    sa.Column('attribute_id', sa.Integer(), nullable=False),
    sa.Column('attribute_value_id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['attribute_id'], ['attributes.attribute_id'], ),
    sa.ForeignKeyConstraint(['attribute_value_id'], ['attribute_values.attribute_value_id'], ),
    sa.ForeignKeyConstraint(['product_variety_id'], ['product_varieties.variety_id'], ),
    sa.PrimaryKeyConstraint('product_variety_attribute_id')
    )
    op.create_table('product_variety_translations',
    sa.Column('variety_id', sa.BigInteger(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_variety_name', sa.String(length=150), nullable=False),
    sa.Column('translated_variety_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['variety_id'], ['product_varieties.variety_id'], ),
    sa.PrimaryKeyConstraint('variety_id', 'language_code')
    )
    op.create_table('auction_lot_translations',
    sa.Column('lot_translation_id', sa.BigInteger(), nullable=False),
    sa.Column('lot_id', sa.UUID(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_lot_title', sa.String(length=255), nullable=True),
    sa.Column('translated_lot_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['lot_id'], ['auction_lots.lot_id'], ),
    sa.PrimaryKeyConstraint('lot_translation_id')
    )
    op.create_table('bids',
    sa.Column('bid_id', sa.BigInteger(), nullable=False),
    sa.Column('auction_id', sa.UUID(), nullable=False),
    sa.Column('lot_id', sa.UUID(), nullable=True),
    sa.Column('bidder_user_id', sa.UUID(), nullable=False),
    sa.Column('bid_amount_per_unit', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('bid_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('bid_status', sa.String(length=50), nullable=True, comment="e.g., 'ACTIVE_HIGHEST', 'OUTBID', 'WINNING_BID'"),
    sa.Column('is_auto_bid', sa.Boolean(), server_default=sa.text('(false)'), nullable=False),
    sa.ForeignKeyConstraint(['auction_id'], ['auctions.auction_id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['bidder_user_id'], ['users.user_id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['lot_id'], ['auction_lots.lot_id'], onupdate='CASCADE', ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('bid_id')
    )
    op.create_table('inventory_transactions',
    sa.Column('transaction_id', sa.BigInteger(), nullable=False),
    sa.Column('inventory_item_id', sa.BigInteger(), nullable=False),
    sa.Column('transaction_type_id', sa.Integer(), nullable=False),
    sa.Column('quantity_changed', sa.Integer(), nullable=False, comment='قيمة موجبة للإضافة، سالبة للخصم'),
    sa.Column('balance_after_transaction', sa.Integer(), nullable=False),
    sa.Column('transaction_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('related_order_id', sa.BigInteger(), nullable=True),
    sa.Column('related_auction_id', sa.BigInteger(), nullable=True),
    sa.Column('reason_notes', sa.Text(), nullable=True),
    sa.Column('created_by_user_id', sa.UUID(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['created_by_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['inventory_item_id'], ['inventory_items.inventory_item_id'], ),
    sa.ForeignKeyConstraint(['transaction_type_id'], ['inventory_transaction_types.transaction_type_id'], ),
    sa.PrimaryKeyConstraint('transaction_id')
    )
    op.create_table('lot_images',
    sa.Column('lot_image_id', sa.BigInteger(), nullable=False),
    sa.Column('lot_id', sa.UUID(), nullable=False),
    sa.Column('image_id', sa.BigInteger(), nullable=False),
    sa.Column('sort_order', sa.Integer(), server_default=sa.text('0'), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['image_id'], ['images.image_id'], ),
    sa.ForeignKeyConstraint(['lot_id'], ['auction_lots.lot_id'], ),
    sa.PrimaryKeyConstraint('lot_image_id')
    )
    op.create_table('lot_products',
    sa.Column('lot_product_id', sa.BigInteger(), nullable=False),
    sa.Column('lot_id', sa.UUID(), nullable=False),
    sa.Column('packaging_option_id', sa.BigInteger(), nullable=False),
    sa.Column('quantity_in_lot', sa.Numeric(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['lot_id'], ['auction_lots.lot_id'], ),
    sa.ForeignKeyConstraint(['packaging_option_id'], ['product_packaging_options.packaging_option_id'], ),
    sa.PrimaryKeyConstraint('lot_product_id')
    )
    op.create_table('reseller_customer_orders',
    sa.Column('customer_order_id', sa.BigInteger(), nullable=False),
    sa.Column('reseller_user_id', sa.UUID(), nullable=False),
    sa.Column('end_customer_user_id', sa.UUID(), nullable=True),
    sa.Column('customer_name', sa.String(length=255), nullable=True),
    sa.Column('customer_phone', sa.String(length=20), nullable=True),
    sa.Column('customer_address_id', sa.BigInteger(), nullable=True),
    sa.Column('order_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('order_status_id', sa.Integer(), nullable=False),
    sa.Column('total_amount', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('payment_status', sa.String(length=50), nullable=True, comment="e.g., 'PAID', 'UNPAID'"),
    sa.Column('delivery_notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['customer_address_id'], ['addresses.address_id'], ),
    sa.ForeignKeyConstraint(['end_customer_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['order_status_id'], ['order_statuses.order_status_id'], ),
    sa.ForeignKeyConstraint(['reseller_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('customer_order_id')
    )
    op.create_table('rfqs',
    sa.Column('rfq_id', sa.BigInteger(), nullable=False),
    sa.Column('buyer_user_id', sa.UUID(), nullable=False),
    sa.Column('rfq_reference_number', sa.String(length=50), nullable=True),
    sa.Column('title', sa.String(length=255), nullable=False),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('submission_deadline', sa.TIMESTAMP(timezone=True), nullable=False),
    sa.Column('delivery_deadline', sa.Date(), nullable=True),
    sa.Column('delivery_address_id', sa.BigInteger(), nullable=True),
    sa.Column('payment_terms_preference', sa.Text(), nullable=True),
    sa.Column('rfq_status_id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['buyer_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['delivery_address_id'], ['addresses.address_id'], ),
    sa.ForeignKeyConstraint(['rfq_status_id'], ['rfq_statuses.rfq_status_id'], ),
    sa.PrimaryKeyConstraint('rfq_id'),
    sa.UniqueConstraint('rfq_reference_number')
    )
    op.create_table('quotes',
    sa.Column('quote_id', sa.BigInteger(), nullable=False),
    sa.Column('rfq_id', sa.BigInteger(), nullable=False),
    sa.Column('seller_user_id', sa.UUID(), nullable=False),
    sa.Column('submission_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('total_quote_amount', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('payment_terms_key', sa.String(length=255), nullable=True),
    sa.Column('delivery_terms_key', sa.String(length=255), nullable=True),
    sa.Column('validity_period_days', sa.Integer(), nullable=True),
    sa.Column('expiry_timestamp', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('quote_status_id', sa.Integer(), nullable=False),
    sa.Column('seller_notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['quote_status_id'], ['quote_statuses.quote_status_id'], ),
    sa.ForeignKeyConstraint(['rfq_id'], ['rfqs.rfq_id'], ),
    sa.ForeignKeyConstraint(['seller_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('quote_id')
    )
    op.create_table('rfq_items',
    sa.Column('rfq_item_id', sa.BigInteger(), nullable=False),
    sa.Column('rfq_id', sa.BigInteger(), nullable=False),
    sa.Column('product_id', sa.UUID(), nullable=True),
    sa.Column('custom_product_description', sa.Text(), nullable=True),
    sa.Column('quantity_requested', sa.Numeric(), nullable=False),
    sa.Column('unit_of_measure_id', sa.Integer(), nullable=False),
    sa.Column('required_specifications', sa.JSON(), nullable=True),
    sa.Column('target_price_per_unit', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['product_id'], ['products.product_id'], ),
    sa.ForeignKeyConstraint(['rfq_id'], ['rfqs.rfq_id'], ),
    sa.ForeignKeyConstraint(['unit_of_measure_id'], ['units_of_measure.unit_id'], ),
    sa.PrimaryKeyConstraint('rfq_item_id')
    )
    op.create_table('orders',
    sa.Column('order_id', sa.UUID(), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('buyer_user_id', sa.UUID(), nullable=False),
    sa.Column('seller_user_id', sa.UUID(), nullable=True),
    sa.Column('order_reference_number', sa.String(length=50), nullable=False),
    sa.Column('order_date', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('order_status_id', sa.Integer(), nullable=False),
    sa.Column('total_amount_before_discount', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('discount_amount', sa.Numeric(precision=12, scale=2), server_default=sa.text('(0.00)'), nullable=True),
    sa.Column('total_amount_after_discount', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('vat_amount', sa.Numeric(precision=12, scale=2), server_default=sa.text('(0.00)'), nullable=True),
    sa.Column('final_total_amount', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('currency_code', sa.String(length=3), nullable=False),
    sa.Column('shipping_address_id', sa.BigInteger(), nullable=True),
    sa.Column('billing_address_id', sa.BigInteger(), nullable=True),
    sa.Column('payment_method_id', sa.Integer(), nullable=True),
    sa.Column('payment_status_id', sa.Integer(), nullable=True),
    sa.Column('source_of_order', sa.String(length=50), nullable=True),
    sa.Column('related_quote_id', sa.BigInteger(), nullable=True),
    sa.Column('related_auction_settlement_id', sa.BigInteger(), nullable=True),
    sa.Column('notes_from_buyer', sa.Text(), nullable=True),
    sa.Column('notes_from_seller', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['billing_address_id'], ['addresses.address_id'], ),
    sa.ForeignKeyConstraint(['buyer_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['currency_code'], ['currencies.currency_code'], ),
    sa.ForeignKeyConstraint(['order_status_id'], ['order_statuses.order_status_id'], ),
    sa.ForeignKeyConstraint(['payment_status_id'], ['payment_statuses.payment_status_id'], ),
    sa.ForeignKeyConstraint(['related_quote_id'], ['quotes.quote_id'], ),
    sa.ForeignKeyConstraint(['seller_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['shipping_address_id'], ['addresses.address_id'], ),
    sa.PrimaryKeyConstraint('order_id'),
    sa.UniqueConstraint('order_reference_number')
    )
    op.create_table('quote_items',
    sa.Column('quote_item_id', sa.BigInteger(), nullable=False),
    sa.Column('quote_id', sa.BigInteger(), nullable=False),
    sa.Column('rfq_item_id', sa.BigInteger(), nullable=False),
    sa.Column('offered_product_description', sa.Text(), nullable=True),
    sa.Column('offered_quantity', sa.Numeric(), nullable=False),
    sa.Column('unit_price_offered', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('total_item_price', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('item_notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['quote_id'], ['quotes.quote_id'], ),
    sa.ForeignKeyConstraint(['rfq_item_id'], ['rfq_items.rfq_item_id'], ),
    sa.PrimaryKeyConstraint('quote_item_id')
    )
    op.create_table('deferred_payment_agreements',
    sa.Column('deferred_payment_agreement_id', sa.BigInteger(), nullable=False),
    sa.Column('related_order_id', sa.UUID(), nullable=True),
    sa.Column('related_auction_settlement_id', sa.BigInteger(), nullable=True),
    sa.Column('seller_user_id', sa.UUID(), nullable=False),
    sa.Column('buyer_user_id', sa.UUID(), nullable=False),
    sa.Column('total_agreement_amount', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('agreement_terms_text', sa.Text(), nullable=True),
    sa.Column('number_of_installments', sa.Integer(), server_default=sa.text('1'), nullable=False),
    sa.Column('first_installment_due_date', sa.Date(), nullable=True),
    sa.Column('installment_frequency_days', sa.Integer(), nullable=True),
    sa.Column('agreement_creation_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('deferred_payment_agreement_status_id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_by_user_id', sa.UUID(), nullable=True),
    sa.ForeignKeyConstraint(['buyer_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['deferred_payment_agreement_status_id'], ['deferred_payment_agreement_statuses.deferred_payment_agreement_status_id'], ),
    sa.ForeignKeyConstraint(['related_auction_settlement_id'], ['auction_settlements.settlement_id'], ),
    sa.ForeignKeyConstraint(['related_order_id'], ['orders.order_id'], ),
    sa.ForeignKeyConstraint(['seller_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['updated_by_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('deferred_payment_agreement_id')
    )
    op.create_table('gg_claims',
    sa.Column('gg_claim_id', sa.BigInteger(), nullable=False),
    sa.Column('related_order_id', sa.UUID(), nullable=False),
    sa.Column('buyer_user_id', sa.UUID(), nullable=False),
    sa.Column('seller_user_id', sa.UUID(), nullable=False),
    sa.Column('claim_submission_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('problem_description', sa.Text(), nullable=False),
    sa.Column('affected_quantity_description', sa.Text(), nullable=True),
    sa.Column('gg_claim_status_id', sa.Integer(), nullable=False),
    sa.Column('resolution_details', sa.Text(), nullable=True),
    sa.Column('resolution_timestamp', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('resolved_by_user_id', sa.UUID(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['buyer_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['gg_claim_status_id'], ['gg_claim_statuses.gg_claim_status_id'], ),
    sa.ForeignKeyConstraint(['related_order_id'], ['orders.order_id'], ),
    sa.ForeignKeyConstraint(['resolved_by_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['seller_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('gg_claim_id')
    )
    op.create_table('order_items',
    sa.Column('order_item_id', sa.BigInteger(), nullable=False),
    sa.Column('order_id', sa.UUID(), nullable=False),
    sa.Column('product_packaging_option_id', sa.BigInteger(), nullable=False),
    sa.Column('seller_user_id', sa.UUID(), nullable=False),
    sa.Column('quantity_ordered', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('unit_price_at_purchase', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('total_price_for_item', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('item_status_id', sa.Integer(), nullable=True),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.CheckConstraint('quantity_ordered > 0', name='chk_quantity_ordered_positive'),
    sa.ForeignKeyConstraint(['item_status_id'], ['order_item_statuses.item_status_id'], ),
    sa.ForeignKeyConstraint(['order_id'], ['orders.order_id'], ondelete='CASCADE'),
    sa.ForeignKeyConstraint(['product_packaging_option_id'], ['product_packaging_options.packaging_option_id'], ),
    sa.ForeignKeyConstraint(['seller_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('order_item_id')
    )
    op.create_table('order_status_history',
    sa.Column('order_status_history_id', sa.BigInteger(), nullable=False),
    sa.Column('order_id', sa.UUID(), nullable=False),
    sa.Column('old_status_id', sa.Integer(), nullable=True),
    sa.Column('new_status_id', sa.Integer(), nullable=False),
    sa.Column('change_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('changed_by_user_id', sa.UUID(), nullable=True),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['changed_by_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['new_status_id'], ['order_statuses.order_status_id'], ),
    sa.ForeignKeyConstraint(['old_status_id'], ['order_statuses.order_status_id'], ),
    sa.ForeignKeyConstraint(['order_id'], ['orders.order_id'], ),
    sa.PrimaryKeyConstraint('order_status_history_id')
    )
    op.create_table('reviews',
    sa.Column('review_id', sa.BigInteger(), autoincrement=True, nullable=False),
    sa.Column('reviewer_user_id', sa.UUID(), nullable=False),
    sa.Column('reviewed_entity_id', sa.String(length=255), nullable=False, comment='معرف الكيان (UUID أو Integer) - يجب أن يكون VARCHAR ليتسع لمعرفات مختلفة'),
    sa.Column('reviewed_entity_type', sa.String(length=50), nullable=False),
    sa.Column('related_order_id', sa.UUID(), nullable=True),
    sa.Column('rating_overall', sa.SmallInteger(), nullable=False),
    sa.Column('review_title', sa.String(length=255), nullable=True),
    sa.Column('review_text', sa.Text(), nullable=True),
    sa.Column('review_status_id', sa.Integer(), nullable=False),
    sa.Column('submission_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('publication_timestamp', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.CheckConstraint('rating_overall >= 1 AND rating_overall <= 5', name='chk_rating_overall_range'),
    sa.ForeignKeyConstraint(['related_order_id'], ['orders.order_id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['review_status_id'], ['review_statuses.status_id'], ),
    sa.ForeignKeyConstraint(['reviewed_entity_type'], ['entity_types_for_reviews_or_images.entity_type_code'], ),
    sa.ForeignKeyConstraint(['reviewer_user_id'], ['users.user_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('review_id')
    )
    op.create_table('shipments',
    sa.Column('shipment_id', sa.BigInteger(), nullable=False),
    sa.Column('order_id', sa.UUID(), nullable=False),
    sa.Column('shipping_carrier_name', sa.String(length=255), nullable=True),
    sa.Column('tracking_number', sa.String(length=100), nullable=True),
    sa.Column('shipment_status_id', sa.Integer(), nullable=False),
    sa.Column('estimated_shipping_date', sa.Date(), nullable=True),
    sa.Column('actual_shipping_date', sa.Date(), nullable=True),
    sa.Column('estimated_delivery_date', sa.Date(), nullable=True),
    sa.Column('actual_delivery_date', sa.Date(), nullable=True),
    sa.Column('shipping_address_id', sa.BigInteger(), nullable=True),
    sa.Column('shipping_cost', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('shipping_notes', sa.Text(), nullable=True),
    sa.Column('shipped_by_user_id', sa.UUID(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['order_id'], ['orders.order_id'], ),
    sa.ForeignKeyConstraint(['shipment_status_id'], ['shipment_statuses.shipment_status_id'], ),
    sa.ForeignKeyConstraint(['shipped_by_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['shipping_address_id'], ['addresses.address_id'], ),
    sa.PrimaryKeyConstraint('shipment_id')
    )
    op.create_table('deferred_payment_agreement_documents',
    sa.Column('document_id', sa.BigInteger(), nullable=False),
    sa.Column('deferred_payment_agreement_id', sa.BigInteger(), nullable=False),
    sa.Column('document_name', sa.String(length=255), nullable=False),
    sa.Column('document_type_key', sa.String(length=50), nullable=True),
    sa.Column('document_url', sa.String(length=512), nullable=False),
    sa.Column('upload_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('uploaded_by_user_id', sa.UUID(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['deferred_payment_agreement_id'], ['deferred_payment_agreements.deferred_payment_agreement_id'], ),
    sa.ForeignKeyConstraint(['uploaded_by_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('document_id')
    )
    op.create_table('deferred_payment_installments',
    sa.Column('installment_id', sa.BigInteger(), nullable=False),
    sa.Column('deferred_payment_agreement_id', sa.BigInteger(), nullable=False),
    sa.Column('installment_number', sa.Integer(), nullable=False),
    sa.Column('due_date', sa.Date(), nullable=False),
    sa.Column('amount_due', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('amount_paid', sa.Numeric(precision=12, scale=2), server_default=sa.text('(0.00)'), nullable=False),
    sa.Column('installment_status_id', sa.Integer(), nullable=False),
    sa.Column('last_payment_date', sa.Date(), nullable=True),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['deferred_payment_agreement_id'], ['deferred_payment_agreements.deferred_payment_agreement_id'], ),
    sa.ForeignKeyConstraint(['installment_status_id'], ['installment_statuses.installment_status_id'], ),
    sa.PrimaryKeyConstraint('installment_id')
    )
    op.create_table('gg_claim_evidences',
    sa.Column('evidence_id', sa.BigInteger(), nullable=False),
    sa.Column('gg_claim_id', sa.BigInteger(), nullable=False),
    sa.Column('evidence_file_url', sa.String(length=512), nullable=False),
    sa.Column('file_type', sa.String(length=50), nullable=True),
    sa.Column('file_size_bytes', sa.BigInteger(), nullable=True),
    sa.Column('upload_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('uploaded_by_user_id', sa.UUID(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['gg_claim_id'], ['gg_claims.gg_claim_id'], ),
    sa.ForeignKeyConstraint(['uploaded_by_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('evidence_id')
    )
    op.create_table('gg_claim_items',
    sa.Column('gg_claim_item_id', sa.BigInteger(), nullable=False),
    sa.Column('gg_claim_id', sa.BigInteger(), nullable=False),
    sa.Column('order_item_id', sa.BigInteger(), nullable=False),
    sa.Column('affected_quantity', sa.Numeric(), nullable=False),
    sa.Column('item_problem_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['gg_claim_id'], ['gg_claims.gg_claim_id'], ),
    sa.ForeignKeyConstraint(['order_item_id'], ['order_items.order_item_id'], ),
    sa.PrimaryKeyConstraint('gg_claim_item_id')
    )
    op.create_table('gg_claim_resolutions',
    sa.Column('resolution_id', sa.BigInteger(), nullable=False),
    sa.Column('gg_claim_id', sa.BigInteger(), nullable=False),
    sa.Column('gg_resolution_type_id', sa.Integer(), nullable=False),
    sa.Column('resolution_notes', sa.Text(), nullable=True),
    sa.Column('refund_amount_approved', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('replacement_order_id', sa.UUID(), nullable=True),
    sa.Column('resolution_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('resolved_by_user_id', sa.UUID(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['gg_claim_id'], ['gg_claims.gg_claim_id'], ),
    sa.ForeignKeyConstraint(['gg_resolution_type_id'], ['gg_resolution_types.gg_resolution_type_id'], ),
    sa.ForeignKeyConstraint(['replacement_order_id'], ['orders.order_id'], ),
    sa.ForeignKeyConstraint(['resolved_by_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('resolution_id')
    )
    op.create_table('gg_claim_status_history',
    sa.Column('history_id', sa.BigInteger(), nullable=False),
    sa.Column('gg_claim_id', sa.BigInteger(), nullable=False),
    sa.Column('old_status_id', sa.Integer(), nullable=True),
    sa.Column('new_status_id', sa.Integer(), nullable=False),
    sa.Column('change_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('changed_by_user_id', sa.UUID(), nullable=True),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['changed_by_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['gg_claim_id'], ['gg_claims.gg_claim_id'], ),
    sa.ForeignKeyConstraint(['new_status_id'], ['gg_claim_statuses.gg_claim_status_id'], ),
    sa.ForeignKeyConstraint(['old_status_id'], ['gg_claim_statuses.gg_claim_status_id'], ),
    sa.PrimaryKeyConstraint('history_id')
    )
    op.create_table('reseller_inventory_items',
    sa.Column('reseller_inventory_item_id', sa.BigInteger(), nullable=False),
    sa.Column('reseller_user_id', sa.UUID(), nullable=False),
    sa.Column('source_product_packaging_option_id', sa.BigInteger(), nullable=False),
    sa.Column('source_purchase_order_item_id', sa.BigInteger(), nullable=True),
    sa.Column('quantity_purchased', sa.Numeric(), nullable=False),
    sa.Column('available_quantity_for_resale', sa.Numeric(), nullable=False),
    sa.Column('cost_price_per_unit', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('acquisition_date', sa.Date(), nullable=True),
    sa.Column('status', sa.String(length=50), nullable=True, comment="e.g., 'AVAILABLE', 'SOLD_OUT'"),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['reseller_user_id'], ['users.user_id'], ),
    sa.ForeignKeyConstraint(['source_product_packaging_option_id'], ['product_packaging_options.packaging_option_id'], ),
    sa.ForeignKeyConstraint(['source_purchase_order_item_id'], ['order_items.order_item_id'], ),
    sa.PrimaryKeyConstraint('reseller_inventory_item_id')
    )
    op.create_table('review_ratings_by_criteria',
    sa.Column('rating_by_criteria_id', sa.BigInteger(), autoincrement=True, nullable=False),
    sa.Column('review_id', sa.BigInteger(), nullable=False),
    sa.Column('criteria_id', sa.Integer(), nullable=False),
    sa.Column('rating_value', sa.SmallInteger(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.CheckConstraint('rating_value >= 1 AND rating_value <= 5', name='chk_rating_value_range'),
    sa.ForeignKeyConstraint(['criteria_id'], ['review_criteria.criteria_id'], ),
    sa.ForeignKeyConstraint(['review_id'], ['reviews.review_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('rating_by_criteria_id')
    )
    op.create_table('review_reports',
    sa.Column('report_id', sa.BigInteger(), autoincrement=True, nullable=False),
    sa.Column('review_id', sa.BigInteger(), nullable=False),
    sa.Column('reporter_user_id', sa.UUID(), nullable=False),
    sa.Column('report_reason_id', sa.Integer(), nullable=True),
    sa.Column('custom_report_reason', sa.Text(), nullable=True),
    sa.Column('report_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('report_status', sa.String(length=50), server_default=sa.text("'PENDING_REVIEW'"), nullable=False),
    sa.Column('action_taken', sa.Text(), nullable=True),
    sa.Column('resolved_by_user_id', sa.UUID(), nullable=True),
    sa.Column('resolved_timestamp', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['report_reason_id'], ['review_report_reasons.reason_id'], ),
    sa.ForeignKeyConstraint(['reporter_user_id'], ['users.user_id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['resolved_by_user_id'], ['users.user_id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['review_id'], ['reviews.review_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('report_id')
    )
    op.create_table('review_responses',
    sa.Column('response_id', sa.BigInteger(), autoincrement=True, nullable=False),
    sa.Column('review_id', sa.BigInteger(), nullable=False),
    sa.Column('responder_user_id', sa.UUID(), nullable=False),
    sa.Column('response_text', sa.Text(), nullable=False),
    sa.Column('response_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('is_approved', sa.Boolean(), server_default=sa.text('(true)'), nullable=True),
    sa.Column('approved_by_user_id', sa.UUID(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['approved_by_user_id'], ['users.user_id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['responder_user_id'], ['users.user_id'], ondelete='SET NULL'),
    sa.ForeignKeyConstraint(['review_id'], ['reviews.review_id'], ondelete='CASCADE'),
    sa.PrimaryKeyConstraint('response_id'),
    sa.UniqueConstraint('review_id')
    )
    op.create_table('shipment_items',
    sa.Column('shipment_item_id', sa.BigInteger(), nullable=False),
    sa.Column('shipment_id', sa.BigInteger(), nullable=False),
    sa.Column('order_item_id', sa.BigInteger(), nullable=False),
    sa.Column('quantity_shipped', sa.Numeric(), nullable=False),
    sa.Column('item_notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['order_item_id'], ['order_items.order_item_id'], ),
    sa.ForeignKeyConstraint(['shipment_id'], ['shipments.shipment_id'], ),
    sa.PrimaryKeyConstraint('shipment_item_id')
    )
    op.create_table('installment_payment_records',
    sa.Column('payment_record_id', sa.BigInteger(), nullable=False),
    sa.Column('installment_id', sa.BigInteger(), nullable=False),
    sa.Column('payment_amount', sa.Numeric(precision=12, scale=2), nullable=False),
    sa.Column('payment_date', sa.Date(), nullable=False),
    sa.Column('payment_method_key', sa.String(length=50), nullable=True),
    sa.Column('transaction_reference', sa.String(length=255), nullable=True),
    sa.Column('recorded_by_user_id', sa.UUID(), nullable=False),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['installment_id'], ['deferred_payment_installments.installment_id'], ),
    sa.ForeignKeyConstraint(['recorded_by_user_id'], ['users.user_id'], ),
    sa.PrimaryKeyConstraint('payment_record_id')
    )
    op.create_table('reseller_sales_offers',
    sa.Column('sales_offer_id', sa.BigInteger(), nullable=False),
    sa.Column('reseller_inventory_item_id', sa.BigInteger(), nullable=False),
    sa.Column('resale_price_per_unit', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('resale_unit_of_measure_id', sa.Integer(), nullable=True),
    sa.Column('minimum_order_quantity', sa.Numeric(), nullable=True),
    sa.Column('custom_offer_title_key', sa.String(length=255), nullable=True),
    sa.Column('custom_offer_description_key', sa.Text(), nullable=True),
    sa.Column('is_active', sa.Boolean(), server_default=sa.text('(true)'), nullable=False),
    sa.Column('available_from_timestamp', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('available_until_timestamp', sa.TIMESTAMP(timezone=True), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['resale_unit_of_measure_id'], ['units_of_measure.unit_id'], ),
    sa.ForeignKeyConstraint(['reseller_inventory_item_id'], ['reseller_inventory_items.reseller_inventory_item_id'], ),
    sa.PrimaryKeyConstraint('sales_offer_id')
    )
    op.create_table('reseller_customer_order_items',
    sa.Column('customer_order_item_id', sa.BigInteger(), nullable=False),
    sa.Column('customer_order_id', sa.BigInteger(), nullable=False),
    sa.Column('reseller_sales_offer_id', sa.BigInteger(), nullable=False),
    sa.Column('quantity_ordered', sa.Numeric(), nullable=False),
    sa.Column('price_per_unit_charged', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('total_item_price', sa.Numeric(precision=10, scale=2), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['customer_order_id'], ['reseller_customer_orders.customer_order_id'], ),
    sa.ForeignKeyConstraint(['reseller_sales_offer_id'], ['reseller_sales_offers.sales_offer_id'], ),
    sa.PrimaryKeyConstraint('customer_order_item_id')
    )
    op.create_table('reseller_sales_offer_translations',
    sa.Column('sales_offer_id', sa.BigInteger(), nullable=False),
    sa.Column('language_code', sa.String(length=10), nullable=False),
    sa.Column('translated_offer_title', sa.String(length=255), nullable=False),
    sa.Column('translated_offer_description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['language_code'], ['languages.language_code'], ),
    sa.ForeignKeyConstraint(['sales_offer_id'], ['reseller_sales_offers.sales_offer_id'], ),
    sa.PrimaryKeyConstraint('sales_offer_id', 'language_code')
    )
    op.create_table('reseller_inventory_transactions',
    sa.Column('reseller_inv_transaction_id', sa.BigInteger(), nullable=False),
    sa.Column('reseller_inventory_item_id', sa.BigInteger(), nullable=False),
    sa.Column('transaction_type', sa.String(length=50), nullable=False),
    sa.Column('quantity_changed', sa.Numeric(), nullable=False),
    sa.Column('transaction_timestamp', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('related_customer_order_item_id', sa.BigInteger(), nullable=True),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('created_at', sa.TIMESTAMP(timezone=True), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.ForeignKeyConstraint(['related_customer_order_item_id'], ['reseller_customer_order_items.customer_order_item_id'], ),
    sa.ForeignKeyConstraint(['reseller_inventory_item_id'], ['reseller_inventory_items.reseller_inventory_item_id'], ),
    sa.PrimaryKeyConstraint('reseller_inv_transaction_id')
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('reseller_inventory_transactions')
    op.drop_table('reseller_sales_offer_translations')
    op.drop_table('reseller_customer_order_items')
    op.drop_table('reseller_sales_offers')
    op.drop_table('installment_payment_records')
    op.drop_table('shipment_items')
    op.drop_table('review_responses')
    op.drop_table('review_reports')
    op.drop_table('review_ratings_by_criteria')
    op.drop_table('reseller_inventory_items')
    op.drop_table('gg_claim_status_history')
    op.drop_table('gg_claim_resolutions')
    op.drop_table('gg_claim_items')
    op.drop_table('gg_claim_evidences')
    op.drop_table('deferred_payment_installments')
    op.drop_table('deferred_payment_agreement_documents')
    op.drop_table('shipments')
    op.drop_table('reviews')
    op.drop_table('order_status_history')
    op.drop_table('order_items')
    op.drop_table('gg_claims')
    op.drop_table('deferred_payment_agreements')
    op.drop_table('quote_items')
    op.drop_table('orders')
    op.drop_table('rfq_items')
    op.drop_table('quotes')
    op.drop_table('rfqs')
    op.drop_table('reseller_customer_orders')
    op.drop_table('lot_products')
    op.drop_table('lot_images')
    op.drop_table('inventory_transactions')
    op.drop_table('bids')
    op.drop_table('auction_lot_translations')
    op.drop_table('product_variety_translations')
    op.drop_table('product_variety_attributes')
    op.drop_table('product_price_history')
    op.drop_table('product_packaging_price_tier_rule_assignments')
    op.drop_table('product_packaging_option_translations')
    op.drop_table('inventory_items')
    op.drop_table('expected_crop_translations')
    op.drop_table('district_translations')
    op.drop_table('auto_bid_settings')
    op.drop_table('auction_watchlists')
    op.drop_table('auction_participants')
    op.drop_table('auction_lots')
    op.drop_table('addresses')
    op.drop_table('withdrawal_requests')
    op.drop_table('user_activity_logs')
    op.drop_table('search_logs')
    op.drop_table('product_varieties')
    op.drop_table('product_translations')
    op.drop_table('product_packaging_options')
    op.drop_table('price_tier_rule_translations')
    op.drop_table('price_tier_rule_levels')
    op.drop_table('expected_crops')
    op.drop_table('districts')
    op.drop_table('city_translations')
    op.drop_table('auctions')
    op.drop_table('application_setting_translations')
    op.drop_table('wallets')
    op.drop_table('user_verification_history')
    op.drop_table('user_sessions')
    op.drop_table('user_roles')
    op.drop_table('user_preferences')
    op.drop_table('user_notification_preferences')
    op.drop_table('system_maintenance_schedule')
    op.drop_table('system_audit_logs')
    op.drop_table('security_event_logs')
    op.drop_table('review_criteria_translations')
    op.drop_table('products')
    op.drop_table('price_tier_rules')
    op.drop_table('phone_change_requests')
    op.drop_table('password_reset_tokens')
    op.drop_table('notification_template_translations')
    op.drop_table('notification_logs')
    op.drop_table('manual_verification_log')
    op.drop_table('licenses')
    op.drop_table('issuing_authority_translations')
    op.drop_table('images')
    op.drop_table('governorate_translations')
    op.drop_table('feature_flags')
    op.drop_table('data_change_audit_logs')
    op.drop_table('cities')
    op.drop_table('attribute_value_translations')
    op.drop_table('application_settings')
    op.drop_table('account_status_history')
    op.drop_table('withdrawal_request_status_translations')
    op.drop_table('wallet_status_translations')
    op.drop_table('users')
    op.drop_table('user_verification_status_translations')
    op.drop_table('user_type_translations')
    op.drop_table('unit_of_measure_translations')
    op.drop_table('transaction_type_translations')
    op.drop_table('system_event_type_translations')
    op.drop_table('shipment_status_translations')
    op.drop_table('security_event_type_translations')
    op.drop_table('role_translations')
    op.drop_table('role_permissions')
    op.drop_table('rfq_status_translations')
    op.drop_table('review_status_translations')
    op.drop_table('review_report_reason_translations')
    op.drop_table('review_criteria')
    op.drop_table('quote_status_translations')
    op.drop_table('product_status_translations')
    op.drop_table('product_category_translations')
    op.drop_table('payment_status_translations')
    op.drop_table('order_status_translations')
    op.drop_table('order_item_status_translations')
    op.drop_table('notification_type_translations')
    op.drop_table('notification_templates')
    op.drop_table('notification_delivery_status_translations')
    op.drop_table('notification_channel_translations')
    op.drop_table('month_translations')
    op.drop_table('license_verification_status_translations')
    op.drop_table('license_type_translations')
    op.drop_table('issuing_authorities')
    op.drop_table('inventory_transaction_type_translations')
    op.drop_table('inventory_item_status_translations')
    op.drop_table('installment_status_translations')
    op.drop_table('governorates')
    op.drop_table('gg_resolution_type_translations')
    op.drop_table('gg_claim_status_translations')
    op.drop_table('expected_crop_status_translations')
    op.drop_table('entity_type_translations')
    op.drop_table('deferred_payment_agreement_status_translations')
    op.drop_table('day_of_week_translations')
    op.drop_table('currency_translations')
    op.drop_table('country_translations')
    op.drop_table('auction_type_translations')
    op.drop_table('auction_status_translations')
    op.drop_table('auction_settlement_status_translations')
    op.drop_table('attribute_values')
    op.drop_table('attribute_translations')
    op.drop_table('address_type_translations')
    op.drop_table('activity_type_translations')
    op.drop_table('account_status_translations')
    op.drop_table('withdrawal_request_statuses')
    op.drop_table('wallet_transactions')
    op.drop_table('wallet_statuses')
    op.drop_table('user_verification_statuses')
    op.drop_table('user_types')
    op.drop_table('units_of_measure')
    op.drop_table('transaction_types')
    op.drop_table('system_event_types')
    op.drop_table('shipment_statuses')
    op.drop_table('security_event_types')
    op.drop_table('roles')
    op.drop_table('rfq_statuses')
    op.drop_table('review_statuses')
    op.drop_table('review_report_reasons')
    op.drop_table('quote_statuses')
    op.drop_table('product_statuses')
    op.drop_table('product_categories')
    op.drop_table('platform_commissions')
    op.drop_table('permissions')
    op.drop_table('payment_statuses')
    op.drop_index(op.f('ix_payment_records_gateway_transaction_reference'), table_name='payment_records')
    op.drop_table('payment_records')
    op.drop_table('payment_gateways')
    op.drop_table('order_statuses')
    op.drop_table('order_item_statuses')
    op.drop_table('notification_types')
    op.drop_table('notification_delivery_statuses')
    op.drop_table('notification_channels')
    op.drop_table('license_verification_statuses')
    op.drop_table('license_types')
    op.drop_table('languages')
    op.drop_table('inventory_transaction_types')
    op.drop_table('inventory_item_statuses')
    op.drop_table('installment_statuses')
    op.drop_table('gg_resolution_types')
    op.drop_table('gg_claim_statuses')
    op.drop_table('expected_crop_statuses')
    op.drop_table('entity_types_for_reviews_or_images')
    op.drop_table('dim_dates')
    op.drop_table('deferred_payment_agreement_statuses')
    op.drop_table('currencies')
    op.drop_table('countries')
    op.drop_table('auction_types')
    op.drop_table('auction_statuses')
    op.drop_table('auction_settlements')
    op.drop_table('auction_settlement_statuses')
    op.drop_table('attributes')
    op.drop_table('address_types')
    op.drop_table('activity_types')
    op.drop_table('account_statuses')
    # ### end Alembic commands ###
